# Документация Simple Kafka 1C

Внешняя компонента для интеграции 1С:Предприятие с Apache Kafka.

## Оглавление

### Быстрый старт

| Раздел | Описание |
|--------|----------|
| [Подключение компоненты](connection.md) | Подключение компоненты на клиенте и сервере, изолированный режим |
| [Обработка исключений](exceptionHandling.md) | Обработка ошибок, получение текста ошибки |

### Основные операции

| Раздел | Описание |
|--------|----------|
| [Публикация сообщений](producer.md) | Настройка продюсера, синхронная и асинхронная отправка, пакетная отправка |
| [Чтение сообщений](consumer.md) | Настройка консьюмера, подписка на топики, управление смещениями, пакетное чтение |
| [Транзакции](transactions.md) | Exactly-Once семантика, атомарная отправка, Read-Process-Write |
| [Admin API](admin.md) | Управление топиками, метаданные кластера, мониторинг consumer groups |

### Форматы сериализации

| Раздел | Описание |
|--------|----------|
| [AVRO](avro.md) | Работа с форматом AVRO: схемы, кодирование, декодирование (OCF, Raw, Confluent Wire Format) |
| [Protocol Buffers](protobuf.md) | Работа с форматом Protobuf: .proto схемы, сериализация, десериализация |
| [Schema Registry](schema_registry.md) | Интеграция с Confluent Schema Registry: регистрация и получение схем |

### Мониторинг и отладка

| Раздел | Описание |
|--------|----------|
| [Логирование](logging.md) | Настройка логов продюсера и консьюмера, формат файлов |
| [Сбор статистики](statistic.md) | Метрики librdkafka, экспорт в JSON для анализа |

### Решение проблем

| Раздел | Описание |
|--------|----------|
| [Известные проблемы](problems.md) | Краш при использовании Слушать, отправка больших файлов, GSSAPI |

### Сборка из исходников

| Раздел | Описание |
|--------|----------|
| [Сборка с vcpkg](building.md) | Установка зависимостей через vcpkg, сборка для Windows и Linux |
| [Сборка в Visual Studio](visual_studio_build.md) | Открытие CMake проекта, сборка через MSBuild |
| [Статическая линковка Protobuf](protobuf_static_linking.md) | Настройки CMake для статической линковки зависимостей |

### Примеры

| Раздел | Описание |
|--------|----------|
| [Современный консьюмер](examples/modern_consumer.md) | Чтение сообщений с использованием новых методов |
| [Ручная фиксация смещений](examples/auto_commit_off.md) | Чтение с отключённым auto-commit |
| [Примеры транзакций](examples/transactions_examples.md) | Атомарная отправка, Read-Process-Write, обработка ошибок |

---

## Краткий обзор возможностей

### Producer (Продюсер)
- Синхронная и асинхронная отправка сообщений
- Пакетная отправка
- Настройка партиционирования
- Метрики производительности

### Consumer (Консьюмер)
- Подписка на несколько топиков
- Ручное и автоматическое управление смещениями
- Пакетное чтение сообщений
- Переход к началу/концу/времени

### Транзакции
- Exactly-Once семантика доставки
- Атомарная запись в несколько топиков
- Интеграция смещений консьюмера в транзакцию

### Admin API
- Создание и удаление топиков
- Получение метаданных кластера
- Мониторинг consumer groups и lag
- Health check брокеров

### Форматы данных
- **AVRO** — поддержка OCF, Raw Avro, Confluent Wire Format
- **Protobuf** — динамические схемы, runtime парсинг .proto
- **Schema Registry** — интеграция с Confluent Schema Registry

---

## Полезные ссылки

- [librdkafka Configuration](https://github.com/confluentinc/librdkafka/blob/master/CONFIGURATION.md) — параметры конфигурации
- [librdkafka Statistics](https://github.com/confluentinc/librdkafka/blob/master/STATISTICS.md) — описание метрик
- [Apache Kafka Documentation](https://kafka.apache.org/documentation/) — официальная документация Kafka
